<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>AI Website Prompt Builder</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #FFF;
            padding: 20px;
        }
        .form-section {
            margin-bottom: 30px;
        }
        .suggestion-select {
            width: auto;
            flex: 0 0 200px;
        }
        #json-output {
            height: 80vh;
            font-family: monospace;
            font-size: 0.9rem;
            resize: vertical;
        }
        .form-container {
            height: 80vh;
            overflow-y: auto;
        }
        .json-container {
            background-color: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            height: 80vh;
            display: flex;
            flex-direction: column;
        }
        .json-header {
            border-bottom: 1px solid #dee2e6;
            padding-bottom: 15px;
            margin-bottom: 15px;
        }
        .json-output-container {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .form-input {
            min-height: 38px;
        }
        .btn-group-sm .btn {
            font-size: 0.8rem;
        }
        .header-actions {
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            margin-bottom: 20px;
        }
        .main-header {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            margin-bottom: 20px;
        }
        .theme-selector {
            margin-bottom: 15px;
        }
        .theme-badge {
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        @media (max-width: 991px) {
            .form-container, .json-container {
                margin-bottom: 20px;
                height: auto;
            }
            #json-output {
                height: 400px;
            }
            .header-actions {
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row g-4">
            <div class="col-lg-6">
                <div class="main-header">
                    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                        <div class="d-flex align-items-center flex-grow-1">
                            <h1 class="mb-0 me-3">Site Prompt Builder</h1>
                            <a href="https://github.com/PieterCooreman/AI-Website-Prompt-Builder" class="btn btn-sm btn-outline-dark" target="_blank" title="View on GitHub">
                                <i class="bi bi-github"></i>
                            </a>
                        </div>
                        <div class="btn-group btn-group-sm" role="group">
                            <button type="button" class="btn btn-outline-primary" id="generate-random" title="Generate random themed values">
                                <i class="bi bi-shuffle"></i> Random Theme
                            </button>
                            <button type="button" class="btn btn-outline-secondary" id="clear-form" title="Clear all fields">
                                <i class="bi bi-eraser"></i> Clear Form
                            </button>
                        </div>
                    </div>
                    <p class="text-muted mt-3 mb-0">Fill in the fields to build a <b>JSON prompt</b>. This structured output can be copied and used directly in a Generative AI model to produce a one-paged webpage based on your specifications.</p>
                    
                    <div class="theme-selector mt-3">
                        <div class="row">
                            <div class="col-12">
                                <label class="form-label small fw-bold">Theme Clusters:</label>
                                <div id="theme-badges"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-container">
                    <form id="prompt-form">
                        <div class="form-section">
                            <h5 class="border-bottom pb-2 mb-3">General Information</h5>
                            <div class="mb-3">
                                <label for="sitetitle" class="form-label">Title</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="sitetitle" placeholder="e.g., My Website">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('sitetitle').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="siteslogan" class="form-label">Slogan</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="siteslogan" placeholder="e.g., Innovate Today">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('siteslogan').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="sitelanguage" class="form-label">Language</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="sitelanguage" placeholder="e.g., English">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('sitelanguage').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="contact_details" class="form-label">Contact Details</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="contact_details" placeholder="e.g., 123 Street, City, Country">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('contact_details').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h5 class="border-bottom pb-2 mb-3">Context & Brand Identity</h5>
                            <div class="mb-3">
                                <label for="sector" class="form-label">Sector/Activity</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="sector" placeholder="e.g., Technology">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('sector').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="target_audience" class="form-label">Target Audience</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="target_audience" placeholder="e.g., Young professionals">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('target_audience').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="mission" class="form-label">Mission</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="mission" placeholder="e.g., To improve the world through innovation">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('mission').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="vision" class="form-label">Vision</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="vision" placeholder="e.g., To become a leader in the sector">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('vision').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="core_values" class="form-label">Core Values</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="core_values" placeholder="e.g., Integrity, Innovation, Sustainability">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('core_values').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h5 class="border-bottom pb-2 mb-3">Design</h5>
                            <div class="mb-3">
                                <label for="style_preference" class="form-label">Style Preference</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="style_preference" placeholder="e.g., Modern minimalist">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('style_preference').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="colors" class="form-label">Colors</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="colors" placeholder="e.g., Blue, White, Gray">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('colors').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="typography" class="form-label">Typography</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="typography" placeholder="e.g., A classic combination">
                                     <select class="form-select suggestion-select" onchange="document.getElementById('typography').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="button_style" class="form-label">Button Style</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="button_style" placeholder="e.g., Rounded corners">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('button_style').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h5 class="border-bottom pb-2 mb-3">Imagery & Tone</h5>                                     
                            <div class="mb-3">
                                <label for="tone_of_voice" class="form-label">Tone of Voice</label>
                                <div class="input-group">
                                    <input type="text" class="form-control form-input" id="tone_of_voice" placeholder="e.g., Friendly and professional">
                                    <select class="form-select suggestion-select" onchange="document.getElementById('tone_of_voice').value = this.value; updateJsonOutput();">
                                        <option value="">Suggestion</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="json-container">
                    <div class="json-header d-flex justify-content-between align-items-center">
                        <div>
                            <h5 class="mb-0">Generated JSON Prompt</h5>
                            <span class="badge bg-secondary">Output</span>
                        </div>
                        <div class="btn-group btn-group-sm" role="group">
                            <button class="btn btn-outline-success" id="copy-json" title="Copy to clipboard">
                                <i class="bi bi-copy"></i>
                            </button>
                            <button class="btn btn-outline-info" id="export-json" title="Download as file">
                                <i class="bi bi-download"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="json-output-container">
                        <textarea class="form-control border-0 flex-grow-1" id="json-output" readonly placeholder="Fill in the form to generate JSON..."></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JSON Template (legacy keys kept for backward compatibility)
        const jsonTemplate = {
            "instructions": "Build a responsive one-page webpage with Bootstrap in HTML5, CSS3, and modern JavaScript that meets all the requirements specified below. Include all HTML, CSS, and JavaScript in one file named: index.html. Ensure the header remains fixed at the top (CSS position: fixed), the Google Map uses a working key-less embed or OpenStreetMap fallback. Never display white (or light-colored) text on white backgrounds, and never display black (or dark) text on black or dark backgrounds. This makes the text unreadable. Keep this in mind EVERYWHERE you use text.",
            "output": "one complete index.html file with inline <style> en <script> sections",
            "general_data": {
                "sitetitle": "[SITETITLE]",
                "siteslogan": "[SITESLOGAN]",
                "sitelanguage": "[SITELANGUAGE]",
                "contact_details": "[FULL_CONTACT_DETAILS]"                
            },
            "context_and_brand_identity": {
                "sector_activity": "[SECTOR]",
                "target_audience": "[TARGET_AUDIENCE]",
                "mission": "[MISSION]",
                "vision": "[VISION]",
                "core_values": "[CORE_VALUES]"
            },
            "design": {
                "style_preference": "[STYLE_PREFERENCE]",
                "colors": "[COLORS]",
                "color_contrast": "ensure WCAG 2.1 AA contrast",
                "typography": "[TYPOGRAPHY]",
                "button_style": "[BUTTON_STYLE]",
                "favicon": "Generate a matching favicon",
				"header_behavior": "Use CSS position: fixed (not sticky) with top:0 and an appropriate z-index (≥ 1000) so that the header ALWAYS remains visible, even on long scroll."
            },
            "color_contrast": {
              "minimum_ratio": "4.5:1",
              "critical_areas": [
                "all body text on backgrounds",
                "navigation links",
                "button text",
                "form labels and input text"
              ],
              "testing_requirement": "All color combinations must pass WCAG 2.1 AA using WebAIM Contrast Checker",
              "dark_mode": "Maintain 4.5:1 ratio for white text on dark backgrounds",
              "constraints": [
                "No text on gradients without overlay",
                "Minimum 4.5:1 contrast for all text-background combinations"                
              ]
            },
            "css_requirements": {
              "text_readability": [                
                "Minimum `line-height: 1.5` for body text",
                "No text directly on gradient backgrounds without contrast overlay",
                "Use `rgba(255,255,255,0.9)` minimum opacity for text on dark images",
				"Ensure that all interactive elements, including navigation links in the header, buttons, and forms, have explicit color definitions for both light and dark modes. These definitions should be specific enough to override standard styles from libraries like Bootstrap and maintain the WCAG AA contrast ratio."
              ],
              "background_transparency": [
                "Navigation: minimum 0.95 opacity on light, 0.9 on dark",
                "Cards: solid backgrounds or minimum 0.1 opacity overlay",
                "Hero overlays: `linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.4))`"
              ]
            },
            "validation": {
              "contrast_check": [
                "Generate color pairs and verify 4.5:1 ratio before implementation",
                "Test all text elements in browser dev tools",
                "Provide contrast ratios in code comments for each text/background combination"
              ]              
            },
            "text_guidelines": [
                "Body text: 16px minimum on backgrounds with 4.5:1 contrast",
                "Headings: Bold with 3:1 minimum contrast",
                "Links: Underlined or 3px color contrast with parent text"
            ],
            "icons": {
                "required_library": "Bootstrap Icons",
                "exact_cdn": "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",
                "implementation_rules": [
                  "Add <link rel='stylesheet' href='EXACT_CDN_URL' crossorigin='anonymous'> in <head>",				  
                  "Do NOT use inline SVG or data URIs"                  
                ]				
              },
            "imagery_and_tone": {                            
                "tone_of_voice": "[TONE_OF_VOICE]"
            },
            "content_sections": [
                "Fixed header with logo, dark/light mode toggle (localStorage) and responsive hamburger menu",
                "Hero section with a parallax fixed-cover background image (royalty-free Unsplash/Pexels/Pixabay)",
                "About-us section with a few site-themed descriptive lines",
                "Gallery of 6 royalty-free site-themed images with lightbox and lazy loading",
				"For the photo gallery, use a modern, vanilla JavaScript lightbox library with no jQuery dependencies, such as GLightbox or SimpleLightbox",
                "Call-to-action guiding visitors to the contact block",
                "Gallery of royalty-free site-themed videos (safe without attribution, lazy loaded)",
                "Contact section with provided details and embedded Google Map",
                "Privacy modal with a default policy for a site using only technical cookies",
                "Footer with social icons (Facebook, Instagram, YouTube) and back-to-top button"
              ],
			  "contact_section": {
				  "google_map": {
					"requirement": "Use a fully functional embed with a public, keyless embed URL from Google Maps (or OpenStreetMap as a fallback)"
				  }
				},
            "images": "provide a fallback (e.g., a default placeholder image) if a resource from Unsplash/Pexels/Pixabay cannot be loaded",
            "web_technologies": [
                "Use CDN links for external libraries like Bootstrap. Omit the integrity and cross-origin attributes in the <link> and <script> tags. This prevents the browser from blocking the files if the hash is outdated.",         
                "responsive menu with hamburger icon",                            
                "use hover effects for buttons, links, and images where possible"				
            ],
            "functionality": {
                "animations": "Subtle animate-on-scroll (fade/slide)",
                "cookie_consent": "Create a simple, custom cookie banner at the bottom of the page. This banner must not use any external scripts and must store the user's choice in localStorage to be hidden on subsequent visits.",
                "smooth_scrolling": true,
                "hover_effects": "Buttons, links, and images",
                "a11y": "Full accessibility: alt text for all images, ARIA labels for navigation"
              },
			"code_validation": {
			  "requirements": [
				"All JavaScript must be syntactically valid and pass ESLint",
				"Test all event listeners and DOM manipulations",
				"Verify all string concatenation and template literals",
				"Ensure proper quote escaping in HTML attributes",
				"Validate all CSS custom properties and selectors"
			  ]
			},
			"code_quality": {				
				"error_prevention": {
				  "javascript": "Use defensive programming: check if elements exist before manipulation, wrap all event listeners in try-catch, validate all data types",
				  "common_issues_to_avoid": [
					"Unclosed string literals",
					"Missing semicolons in critical locations", 
					"Malformed regex patterns",
					"Incorrect quote escaping in HTML attributes",
					"Global variable scope conflicts"
				  ]
				}
			  },
			"javascript_specifics": {
			  "string_handling": "Use single quotes for HTML attributes, double quotes for JavaScript strings, and template literals only when necessary",
			  "event_listeners": "Always check if target element exists: if (element) { element.addEventListener(...) }",
			  "dom_manipulation": "Use document.querySelector safety: const el = document.querySelector('#id'); if (el) { ... }"
			},
            "assets": {
                "images": "Use royalty-free URLs from Unsplash/Pexels/Pixabay. As a fallback for images, use the placeholder service https://placehold.co. For example: onerror='this.src='https://placehold.co/600x400?text=Not+Found'",
                "videos": "Use royalty-free stock videos that are free for web use without attribution. Embed videos, but avoid direct links (hotlinking) to stock video sites like Pexels. Instead, use placeholder videos from a service that allows hotlinking."
          }
        };

        // -------------------------
        // Backwards-compatible wrappers
        // -------------------------
        // These wrappers provide the improved hierarchical structure (project_info, design_system, etc.)
        // while referencing the existing legacy objects so your current JS still works unchanged.
        jsonTemplate.project_info = {
            general_data: jsonTemplate.general_data,
            context_and_brand_identity: jsonTemplate.context_and_brand_identity
        };
        jsonTemplate.design_system = {
            design: jsonTemplate.design,
            color_contrast: jsonTemplate.color_contrast,
            css_requirements: jsonTemplate.css_requirements,
            text_guidelines: jsonTemplate.text_guidelines
        };
        jsonTemplate.media_and_tone = {
            imagery_and_tone: jsonTemplate.imagery_and_tone,
            icons: jsonTemplate.icons,
            assets: jsonTemplate.assets
        };
        jsonTemplate.site_structure = {
            content_sections: jsonTemplate.content_sections,
            images: jsonTemplate.images,
            web_technologies: jsonTemplate.web_technologies,
            functionality: jsonTemplate.functionality
        };
        jsonTemplate.quality_checks = {
            validation: jsonTemplate.validation
        };

        // Thematic Clusters - each cluster contains all related suggestions
       const thematicClusters = {

    "tech_startup": {
        "name": "Tech Startup",
        "color": "primary",
        "sitetitle": "The Innovation Hub",
        "siteslogan": "The future is now",
        "sitelanguage": "English",
        "contact_details": "1 Wall Street, New York, USA",
        "sector": "Tech",
        "target_audience": "Tech enthusiasts",
        "mission": "To improve the world through innovation",
        "vision": "To lead innovation",
        "core_values": "Integrity, Innovation, Sustainability",
        "style_preference": "Modern minimalist",
        "colors": [
            "#1E3A8A (Deep Blue)",
            "#3B82F6 (Electric Blue)",
            "#F8FAFC (Cool White)",
            "#64748B (Slate Gray)"
        ],
        "typography": "Headings: Montserrat (Modern, Geometric Sans-Serif), Body: Roboto (Clean, Neutral Sans-Serif)",
        "button_style": "Rounded corners with a subtle glow on hover",        
        "tone_of_voice": "Direct and to the point"
    },
    "health_wellness": {
        "name": "Health & Wellness",
        "color": "success",
        "sitetitle": "Vital Life",
        "siteslogan": "Harmony for body and mind",
        "sitelanguage": "English",
        "contact_details": "25 Main Street, Utrecht, Netherlands",
        "sector": "Healthcare",
        "target_audience": "Health-conscious individuals",
        "mission": "To empower people to reach their potential",
        "vision": "Health accessible to everyone",
        "core_values": "Sustainability, Innovation, Inclusivity",
        "style_preference": "Organic and natural",
        "colors": [
            "#059669 (Emerald Green)",
            "#10B981 (Mint Green)",
            "#ECFCCB (Sage White)",
            "#0891B2 (Ocean Blue)"
        ],
        "typography": "Headings: Lora (Elegant, Serif), Body: Source Serif Pro (Classic, Readable Serif)",
        "button_style": "Soft edges with a calm color transition on hover",        
        "tone_of_voice": "Calm and reassuring"
    },
    "creative_agency": {
        "name": "Creative Agency",
        "color": "warning",
        "sitetitle": "Creative Souls",
        "siteslogan": "Where imagination comes to life",
        "sitelanguage": "English",
        "contact_details": "101 Champs-Élysées, Paris, France",
        "sector": "Media & Entertainment",
        "target_audience": "Creatives",
        "mission": "To protect cultural heritage",
        "vision": "A world where technology is human",
        "core_values": "Passion, Growth, Result-oriented",
        "style_preference": "Bold and colorful",
        "colors": [
            "#F97316 (Vibrant Orange)",
            "#06B6D4 (Turquoise)",
            "#EC4899 (Hot Pink)",
            "#8B5CF6 (Electric Purple)"
        ],
        "typography": "Logo/Decorative: Great Vibes (Flowing, Script), Body: Lato (Friendly, Humanist Sans-Serif)",
        "button_style": "Gradient buttons with a dynamic drop shadow on hover",        
        "tone_of_voice": "Playful and informal"
    },
    "financial_services": {
        "name": "Financial Services",
        "color": "info",
        "sitetitle": "Financial Freedom",
        "siteslogan": "Building success together",
        "sitelanguage": "English",
        "contact_details": "7 Bahnhofstrasse, Zurich, Switzerland",
        "sector": "Financial services",
        "target_audience": "Young professionals",
        "mission": "Financial independence for everyone",
        "vision": "To make a global impact",
        "core_values": "Integrity, Innovation, Sustainability",
        "style_preference": "Elegant and luxurious",
        "colors": [
            "#1E293B (Navy Blue)",
            "#F59E0B (Gold)",
            "#FEF7CD (Ivory)",
            "#374151 (Charcoal Gray)"
        ],
        "typography": "Headings: Playfair Display (Elegant, High-contrast Serif), Body: Source Sans Pro (Professional, Neutral Sans-Serif)",
        "button_style": "Sharp buttons with a subtle 3D-like effect and a slight sheen",        
        "tone_of_voice": "Formal and authoritative"
    },
    "restaurant_food": {
        "name": "Restaurant & Food",
        "color": "danger",
        "sitetitle": "The Palate",
        "siteslogan": "Where every meal tells a story",
        "sitelanguage": "English",
        "contact_details": "20 Viale Roma, Rome, Italy",
        "sector": "Tourism & Hospitality",
        "target_audience": "Local communities",
        "mission": "To provide unforgettable experiences",
        "vision": "To create a platform for connection",
        "core_values": "Quality, Service, Accessibility",
        "style_preference": "Cozy and warm",
        "colors": [
            "#92400E (Rich Brown)",
            "#16A34A (Forest Green)",
            "#EA580C (Warm Orange)",
            "#FEF3C7 (Cream)"
        ],
        "typography": "Headings: Lobster (Playful, Bold Script), Body: Raleway (Clean, Sans-Serif with a touch of elegance)",
        "button_style": "Buttons with icons, rounded corners, and a light shadow",
        "tone_of_voice": "Friendly and professional"
    },
    "education_online": {
        "name": "Online Education",
        "color": "secondary",
        "sitetitle": "Education Online",
        "siteslogan": "Discover, learn, grow",
        "sitelanguage": "English",
        "contact_details": "123 Main St, New York, USA",
        "sector": "Education",
        "target_audience": "Students",
        "mission": "To democratize access to knowledge",
        "vision": "A culture of lifelong learning",
        "core_values": "Openness, Curiosity, Eagerness to learn",
        "style_preference": "Clean and functional",
        "colors": [
            "#2563EB (Royal Blue)",
            "#F8FAFC (Pure White)",
            "#E2E8F0 (Light Gray)",
            "#475569 (Slate Blue)"
        ],
        "typography": "Headings: Poppins (Clean, Geometric Sans-Serif), Body: Open Sans (Highly readable, Neutral Sans-Serif)",
        "button_style": "Flat design with a slight background change on hover",        
        "tone_of_voice": "Inspiring and motivating"
    },
    "eco_sustainability": {
        "name": "Eco & Sustainability",
        "color": "success",
        "sitetitle": "Green Footprint",
        "siteslogan": "Your partner in growth",
        "sitelanguage": "English",
        "contact_details": "10 Grote Markt, Bruges, Belgium",
        "sector": "Energy",
        "target_audience": "Families with children",
        "mission": "To leave a healthy planet",
        "vision": "To make all homes sustainable",
        "core_values": "Sustainability, Innovation, Inclusivity",
        "style_preference": "Organic and natural",
        "colors": [
            "#15803D (Earth Green)",
            "#0284C7 (Sky Blue)",
            "#F0FDF4 (Natural White)",
            "#A3E635 (Fresh Lime)"
        ],
        "typography": "Headings: Fredoka (Friendly, Rounded Sans-Serif), Body: Nunito (Soft, Balanced Sans-Serif)",
        "button_style": "Rounded corners with a natural 'pulse' effect on hover",        
        "tone_of_voice": "Inspiring and motivating"
    },
    "travel_adventure": {
        "name": "Travel & Adventure",
        "color": "info",
        "sitetitle": "The World Discovered",
        "siteslogan": "Your compass for unforgettable journeys",
        "sitelanguage": "English",
        "contact_details": "500 Avenida Paulista, São Paulo, Brazil",
        "sector": "Tourism & Hospitality",
        "target_audience": "Travelers",
        "mission": "To provide unforgettable experiences",
        "vision": "A world without borders for communication",
        "core_values": "Openness, Curiosity, Eagerness to learn",
        "style_preference": "Playful and dynamic",
        "colors": [
            "#F97316 (Sunset Orange)",
            "#0891B2 (Adventure Blue)",
            "#EC4899 (Tropical Pink)",
            "#FEF9C3 (Sandy Yellow)"
        ],
        "typography": "Headings: Quicksand (Light, Rounded Sans-Serif), Body: Raleway (Clean, Sans-Serif with a touch of elegance)",
        "button_style": "Large, eye-catching buttons with a playful shadow on hover",
        "tone_of_voice": "Playful and informal"
    }

};
        // Create individual suggestion arrays from clusters for dropdown menus
        const suggestions = {};
        const fields = ['sitetitle', 'siteslogan', 'sitelanguage', 'contact_details', 'sector', 'target_audience', 
                       'mission', 'vision', 'core_values', 'style_preference', 'colors', 'typography', 
                       'button_style', 'tone_of_voice'];
        
        // Initialize suggestion arrays
        fields.forEach(field => {
            suggestions[field] = [];
        });

        // Populate suggestions from clusters
        Object.values(thematicClusters).forEach(cluster => {
            fields.forEach(field => {
                if (cluster[field] && !suggestions[field].includes(cluster[field])) {
                    suggestions[field].push(cluster[field]);
                }
            });
        });

        // Sort all suggestion arrays
        fields.forEach(field => {
            suggestions[field].sort();
        });

        let currentCluster = null;

        function populateSuggestions() {
            for (const fieldId in suggestions) {
                const selectElement = document.querySelector(`#${fieldId} + .suggestion-select`);
                if (selectElement) {
                    while (selectElement.options.length > 1) {
                        selectElement.remove(1);
                    }
                    suggestions[fieldId].forEach(suggestion => {
                        const option = document.createElement('option');
                        option.value = suggestion;
                        option.textContent = suggestion;
                        selectElement.appendChild(option);
                    });
                }
            }
        }

        function createThemeBadges() {
            const badgeContainer = document.getElementById('theme-badges');
            Object.keys(thematicClusters).forEach(clusterKey => {
                const cluster = thematicClusters[clusterKey];
                const badge = document.createElement('span');
                badge.className = `badge bg-${cluster.color} theme-badge`;
                badge.textContent = cluster.name;
                badge.style.cursor = 'pointer';
                badge.onclick = () => applyCluster(clusterKey);
                badgeContainer.appendChild(badge);
            });
        }

        function applyCluster(clusterKey) {
            const cluster = thematicClusters[clusterKey];
            currentCluster = clusterKey;
            
            // Update all form fields with cluster values
            fields.forEach(field => {
                const element = document.getElementById(field);
                if (element && cluster[field]) {
                    element.value = cluster[field];
                }
            });
            
            updateJsonOutput();
        }

        function updateJsonOutput() {
            const formData = {
                sitetitle: document.getElementById('sitetitle').value,
                siteslogan: document.getElementById('siteslogan').value,
                sitelanguage: document.getElementById('sitelanguage').value,
                contact_details: document.getElementById('contact_details').value,
                sector: document.getElementById('sector').value,
                target_audience: document.getElementById('target_audience').value,
                mission: document.getElementById('mission').value,
                vision: document.getElementById('vision').value,
                core_values: document.getElementById('core_values').value,
                style_preference: document.getElementById('style_preference').value,
                colors: document.getElementById('colors').value,
                typography: document.getElementById('typography').value,
                button_style: document.getElementById('button_style').value,                
                tone_of_voice: document.getElementById('tone_of_voice').value,
            };

            const populatedTemplate = JSON.parse(JSON.stringify(jsonTemplate)); // Deep clone
            
            // keep using legacy keys so existing code works
            populatedTemplate.general_data.sitetitle = formData.sitetitle;
            populatedTemplate.general_data.siteslogan = formData.siteslogan;
            populatedTemplate.general_data.sitelanguage = formData.sitelanguage;
            populatedTemplate.general_data.contact_details = formData.contact_details;
            

            populatedTemplate.context_and_brand_identity.sector_activity = formData.sector;
            populatedTemplate.context_and_brand_identity.target_audience = formData.target_audience;
            populatedTemplate.context_and_brand_identity.mission = formData.mission;
            populatedTemplate.context_and_brand_identity.vision = formData.vision;
            populatedTemplate.context_and_brand_identity.core_values = formData.core_values;
            
            populatedTemplate.design.style_preference = formData.style_preference;
            populatedTemplate.design.colors = formData.colors;
            populatedTemplate.design.typography = formData.typography;
            populatedTemplate.design.button_style = formData.button_style;            
            
            populatedTemplate.imagery_and_tone.tone_of_voice = formData.tone_of_voice;

            // Also update the new grouped wrappers so both representations stay in sync
            if (populatedTemplate.project_info) {
                populatedTemplate.project_info.general_data = populatedTemplate.general_data;
                populatedTemplate.project_info.context_and_brand_identity = populatedTemplate.context_and_brand_identity;
            }
            if (populatedTemplate.design_system) {
                populatedTemplate.design_system.design = populatedTemplate.design;
                populatedTemplate.design_system.color_contrast = populatedTemplate.color_contrast;
                populatedTemplate.design_system.css_requirements = populatedTemplate.css_requirements;
                populatedTemplate.design_system.text_guidelines = populatedTemplate.text_guidelines;
            }
            if (populatedTemplate.media_and_tone) {
                populatedTemplate.media_and_tone.imagery_and_tone = populatedTemplate.imagery_and_tone;
                populatedTemplate.media_and_tone.icons = populatedTemplate.icons;
                populatedTemplate.media_and_tone.assets = populatedTemplate.assets;
            }
            if (populatedTemplate.site_structure) {
                populatedTemplate.site_structure.content_sections = populatedTemplate.content_sections;
                populatedTemplate.site_structure.images = populatedTemplate.images;
                populatedTemplate.site_structure.web_technologies = populatedTemplate.web_technologies;
                populatedTemplate.site_structure.functionality = populatedTemplate.functionality;
            }
            if (populatedTemplate.quality_checks) {
                populatedTemplate.quality_checks.validation = populatedTemplate.validation;
            }

            document.getElementById('json-output').value = JSON.stringify(populatedTemplate, null, 2);
        }

        function generateRandomValues() {
            // Select a random cluster
            const clusterKeys = Object.keys(thematicClusters);
            const randomClusterKey = clusterKeys[Math.floor(Math.random() * clusterKeys.length)];
            applyCluster(randomClusterKey);
        }

        function clearForm() {
            document.getElementById('prompt-form').reset();
            currentCluster = null;
            updateJsonOutput();
        }

        // Event Listeners
        document.getElementById('prompt-form').addEventListener('input', updateJsonOutput);
        document.getElementById('generate-random').addEventListener('click', generateRandomValues);
        document.getElementById('clear-form').addEventListener('click', clearForm);

        document.getElementById('copy-json').addEventListener('click', () => {
            const jsonOutput = document.getElementById('json-output');
            jsonOutput.select();
            document.execCommand('copy');
            alert('JSON copied to clipboard!');
        });

        document.getElementById('export-json').addEventListener('click', () => {
            const jsonOutput = document.getElementById('json-output').value;
            const blob = new Blob([jsonOutput], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'website_prompt.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateJsonOutput();
            populateSuggestions();
            createThemeBadges();
        });
    </script>
</body>
</html>
